<!-- templates/announce.html -->
{% extends "layout.html" %}

{% block title %}幾徳祭 | ご案内・アクセス{% endblock %}

{% block head_extra %}
  <style>
    /* ===== Hero 背景＆アニメーション ===== */
    .hero {
      position: relative;
      height: 50vh;
      text-align: center;
      color: #fff;
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
    }
    .hero-bg {
      position: absolute;
      inset: 0;
      background: url('{{ url_for("static", filename="SENSHIN_ils.webp") }}') center/cover no-repeat fixed;
      z-index: 0;
      animation: zoomBackground 20s ease-in-out infinite;
    }
    .hero .inner { position: relative; z-index: 2; }
    @keyframes zoomBackground {
      0%   { transform: scale(1); }
      50%  { transform: scale(1.05); }
      100% { transform: scale(1); }
    }

    /*── 共通変数 ──*/
    :root {
      --accent: #0077c8;
      --bus-color: #e67e22;
      --card-bg: #ffffff;
      --shadow: rgba(0,0,0,.1);
      --detail-heading: #8d6e63;
      --text: #2c3e50;
    }

    /*── 中央寄せラッパー ──*/
    .custom-container {
      max-width: 960px;
      margin: 0 auto;
      padding: 0 1rem;
    }

    /*── 駅線図カード ──*/
    .card-station-map {
      background: var(--card-bg);
      border-radius: 8px;
      box-shadow: 0 4px 12px var(--shadow);
      padding: 1.5rem;
      margin: 1rem auto 2rem;
      max-width: 600px;
    }
    .station-map {
      width: 100%;
      height: auto;
      display: block;
    }
    .station-map path {
      stroke: var(--accent);
      stroke-width: 6;
      stroke-linecap: round;
      fill: none;
    }
    .station-map circle.train {
      fill: var(--accent);
    }
    .station-map circle.station {
      fill: #fff;
      stroke: var(--accent);
      stroke-width: 4;
      transition: none;
      cursor: default;
    }
    .station-label {
      font-size: .9rem;
      fill: var(--text);
      text-anchor: middle;
      user-select: none;
    }

    /*── バス用アニメーション色 ──*/
    .bus-map .station-map path {
      stroke: var(--bus-color);
    }
    .bus-map .station-map circle.train {
      fill: var(--bus-color);
    }

    /*── Google Map ──*/
    .map-container {
      position: relative;
      width: 100%;
      max-width: 600px;
      padding-top: 56.25%;
      margin: 0 auto 2rem;
      border-radius: 8px;
      overflow: hidden;
      box-shadow: 0 4px 12px var(--shadow);
    }
    .map-container iframe {
      position: absolute;
      inset: 0;
      width: 100%;
      height: 100%;
      border: 0;
    }

    /*── アクセス詳細カード ──*/
    .details-sections {
      display: grid;
      grid-template-columns: 1fr;
      gap: 1.5rem;
      margin-bottom: 3rem;
    }
    .detail-section {
      background: var(--card-bg);
      border-left: 6px solid var(--accent);
      border-radius: 8px;
      padding: 1.25rem 1.5rem;
      box-shadow: 0 4px 12px var(--shadow);
      transition: transform .2s, box-shadow .2s;
    }
    .detail-section:hover {
      transform: translateY(-4px);
      box-shadow: 0 6px 16px var(--shadow);
    }
    .detail-section h2 {
      font-size: 1.2rem;
      margin-bottom: .75rem;
      display: flex;
      align-items: center;
      gap: .5rem;
      color: var(--detail-heading);
    }
    .detail-section h2 .icon {
      font-size: 1.25rem;
    }
    .detail-section ul,
    .detail-section p {
      font-size: .95rem;
      line-height: 1.6;
      margin: 0;
    }
    .detail-section ul {
      list-style: none;
      padding: 0;
    }
    .detail-section ul li {
      position: relative;
      padding-left: 1.2rem;
      margin-bottom: .5rem;
    }
    .detail-section ul li::before {
      content: '▶';
      position: absolute;
      left: 0;
      top: 0;
      color: var(--accent);
    }
  </style>
{% endblock %}

{% block content %}
  <!-- ===== Hero ===== -->
  <section class="hero">
    <div class="hero-bg"></div>
    <div class="inner text-center" data-aos="fade-down">
      <h1 class="display-4 fw-bold">ご案内 &amp; アクセス</h1>
      <p class="lead mb-0">安心・安全にお楽しみいただくために</p>
    </div>
  </section>

  <main class="my-5 pt-4">
    <div class="custom-container">

      <!-- ===== ご来場の方へ ===== -->
      <section class="mb-5" data-aos="fade-up">
        <h2 class="mb-4">ご来場の方へ</h2>
        <div class="card p-4">
          <ul class="list-unstyled mb-0">
            <li class="mb-2">
              <i class="bi bi-exclamation-circle-fill me-2 text-danger"></i>
              飲酒は固くお断りいたします。
            </li>
            <li class="mb-2">
              <i class="bi bi-exclamation-circle-fill me-2 text-danger"></i>
              ドローン等の無許可飛行は禁止です。
            </li>
            <li class="mb-2">
              <i class="bi bi-exclamation-circle-fill me-2 text-danger"></i>
              ゴミは分別のうえ所定の回収場所へ。
            </li>
            <li class="mb-2">
              <i class="bi bi-exclamation-circle-fill me-2 text-danger"></i>
              ペットの同伴は原則ご遠慮ください。
            </li>
            <li class="mb-2">
              <i class="bi bi-exclamation-circle-fill me-2 text-danger"></i>
              体調不良の際はスタッフまでお申し出ください。
            </li>
          </ul>
        </div>
      </section>

      <!-- ===== アクセス ===== -->
      <section class="mb-5" data-aos="fade-up" data-aos-delay="100">
        <h2 class="mb-4">アクセス</h2>

        <!-- Google Map -->
        <div class="map-container">
          <iframe
            loading="lazy"
            allowfullscreen
            src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3248.735162808246!2d139.33997817582735!3d35.486095872650914!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x601901b75d52e4bb%3A0x25daee3f56616714!2z56We5aWI5bed5bel56eR5aSn5a2m!5e0!3m2!1sja!2sjp!4v1745132850729!5m2!1sja!2sjp">
          </iframe>
        </div>

        <!-- 詳細カード（縦１列）-->
        <div class="details-sections">

          <!-- バス -->
          <section class="detail-section">
            <h2><span class="icon">🚌</span>バスでお越しの方</h2>
            <ul>
              <li>「本厚木」駅 北口 ①番乗場<br>神奈中バス〈神奈川工科大学行き〉終点下車（約10分）</li>
              <li>「愛甲石田」駅 南口 神奈中バス〈神奈川工科大学経由 厚木バスセンター行き〉「神奈川工科大学」下車</li>
            </ul>
            <!-- バス用 動く図（右→左スタート） -->
            <div class="card-station-map bus-map">
              <svg class="station-map" viewBox="0 0 600 120"
                   xmlns="http://www.w3.org/2000/svg"
                   xmlns:xlink="http://www.w3.org/1999/xlink">
                <path id="bus-track" d="M560 60 L40 60"/>
                <circle class="train" r="8">
                  <animateMotion dur="6s" repeatCount="indefinite"
                    keyPoints="0;1;0" keyTimes="0;0.5;1">
                    <mpath xlink:href="#bus-track"/>
                  </animateMotion>
                </circle>
                <circle class="station" cx="480" cy="60" r="12"/>
                <text class="station-label" x="480" y="95">海老名</text>
                <circle class="station" cx="300" cy="60" r="12"/>
                <text class="station-label" x="300" y="95">本厚木</text>
                <circle class="station" cx="120" cy="60" r="12"/>
                <!-- 二行ラベル -->
                <text class="station-label" x="120" y="85">
                  <tspan x="120" dy="10">愛甲石田</tspan><tspan x="120" dy="1.3em">or 相模大野</tspan>
                </text>
              </svg>
            </div>
          </section>

          <!-- 電車 -->
          <section class="detail-section">
            <h2><span class="icon">🚃</span>電車でお越しの方</h2>
            <p>小田急線「本厚木」駅よりバス10分 / 相模線「入谷」駅より徒歩約25分（約2km）。</p>
            <!-- 電車用 動く図（左→右スタート） -->
            <div class="card-station-map">
              <svg class="station-map" viewBox="0 0 600 120"
                   xmlns="http://www.w3.org/2000/svg"
                   xmlns:xlink="http://www.w3.org/1999/xlink">
                <path id="track-2" d="M40 60 L560 60"/>
                <circle class="train" r="8">
                  <animateMotion dur="6s" repeatCount="indefinite"
                    keyPoints="0;1;0" keyTimes="0;0.5;1">
                    <mpath xlink:href="#track-2"/>
                  </animateMotion>
                </circle>
                <circle class="station" cx="120" cy="60" r="12"/>
                <!-- 二行ラベル -->
                <text class="station-label" x="120" y="85">
                  <tspan x="120" dy="0">愛甲石田</tspan><tspan x="120" dy="1.2em">or 相模大野</tspan>
                </text>
                <circle class="station" cx="300" cy="60" r="12"/>
                <text class="station-label" x="300" y="95">本厚木</text>
                <circle class="station" cx="480" cy="60" r="12"/>
                <text class="station-label" x="480" y="95">海老名</text>
              </svg>
            </div>
          </section>

          <!-- お車 -->
          <section class="detail-section">
            <h2><span class="icon">🚗</span>お車でお越しの方</h2>
            <ul>
              <li>東名高速道路「厚木IC」より約15分</li>
              <li>大学周辺の有料駐車場をご利用ください</li>
            </ul>
          </section>

          <!-- 自転車 -->
          <section class="detail-section">
            <h2><span class="icon">🚲</span>自転車でお越しの方</h2>
            <p>大学敷地内に無料駐輪場をご用意しています（台数に限りあり）。</p>
          </section>

        </div>
      </section>

      <!-- ===== お問い合わせ ===== -->
      <section class="text-center mb-5" data-aos="fade-up" data-aos-delay="200">
        <h2 class="mb-3">お問い合わせ</h2>
        <p>
          幾徳祭運営事務局<br>
          <a href="tel:0461234567">046-123-4567</a> /
          <a href="mailto:info@kaitfes.jp">info@kaitfes.jp</a>
        </p>
      </section>

    </div>
  </main>
{% endblock %}

{% block scripts_extra %}
  <script>
    // AOS は layout.html 側で初期化済み
  </script>
{% endblock %}
